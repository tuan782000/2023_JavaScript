<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Fetch API</title>
    </head>
    <body>
        <button id="getPosts">Get POST (API)</button>
        <div id="output"></div>
        <script>
            const getPosts = () => {
                fetch("https://jsonplaceholder.typicode.com/posts")
                    .then((res) => res.json()) // hàm them gọi callbacks
                    .then((data) => {
                        let output = "<h2>Posts</h2>";
                        // trả về array chứa object nên dùng forEach
                        data.forEach((post) => {
                            const { userId, id, title, body } = post;
                            output += `
                                <div>
                                    <h3>Title: ${title}<span>${id}</span></h3>
                                    <p>Body: ${body}</p>
                                </div>
                            `;
                        });
                        document.getElementById("output").innerHTML = output;
                    })
                    .catch((error) => console.log("Error Fetch: ", error));
            };

            document
                .getElementById("getPosts")
                .addEventListener("click", getPosts);
        </script>
    </body>
</html>
